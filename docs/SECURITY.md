# ğŸ”’ å®‰å…¨åˆ†ææŠ¥å‘Š

æœ¬æ–‡æ¡£åˆ†æäº†é¡¹ç›®çš„å®‰å…¨é£é™©ï¼Œç‰¹åˆ«æ˜¯å…³äº API Key æ³„éœ²çš„é—®é¢˜ã€‚

## âœ… å·²å®æ–½çš„å®‰å…¨æªæ–½

### 1. ç¯å¢ƒå˜é‡ç®¡ç† âœ…
- âœ… `.env` æ–‡ä»¶å·²æ­£ç¡®æ·»åŠ åˆ° `.gitignore`ï¼Œä¸ä¼šè¢«æäº¤åˆ° Git
- âœ… æ‰€æœ‰æ•æ„Ÿé…ç½®éƒ½é€šè¿‡ç¯å¢ƒå˜é‡åŠ è½½ï¼Œæ²¡æœ‰ç¡¬ç¼–ç 
- âœ… `.env.example` åªåŒ…å«å ä½ç¬¦ï¼Œä¸åŒ…å«çœŸå®å¯†é’¥
- âœ… ä½¿ç”¨ `python-dotenv` å®‰å…¨åŠ è½½ç¯å¢ƒå˜é‡

### 2. GitHub Actions å®‰å…¨ âœ…
- âœ… ä½¿ç”¨ GitHub Secrets å­˜å‚¨æ•æ„Ÿä¿¡æ¯
- âœ… å·¥ä½œæµä¸­é€šè¿‡ `${{ secrets.XXX }}` å¼•ç”¨ï¼Œä¸ä¼šåœ¨æ—¥å¿—ä¸­æš´éœ²
- âœ… æ—¥å¿—ä¸­åªæ˜¾ç¤º API Key å‰8ä½ç”¨äºè°ƒè¯•

### 3. æ—¥å¿—å®‰å…¨ âœ…
- âœ… ä»£ç ä¸­åªæ˜¾ç¤º API Key å‰8ä½ï¼ˆå¦‚ `key[:8]...`ï¼‰
- âœ… æ•æ„Ÿä¿¡æ¯ä¸ä¼šå®Œæ•´è®°å½•åˆ°æ—¥å¿—æ–‡ä»¶
- âœ… ä½¿ç”¨å ä½ç¬¦æ˜¾ç¤ºé…ç½®çŠ¶æ€

### 4. ä»£ç å®‰å…¨ âœ…
- âœ… æ²¡æœ‰ç¡¬ç¼–ç çš„çœŸå® API Key
- âœ… æ²¡æœ‰ç¡¬ç¼–ç çš„å¯†ç æˆ– Token
- âœ… é…ç½®åŠ è½½ä½¿ç”¨å®‰å…¨çš„å•ä¾‹æ¨¡å¼

## âš ï¸ å‘ç°çš„å®‰å…¨é—®é¢˜

### ğŸ”´ ä¸¥é‡é—®é¢˜

#### 1. test_env.py ä¸­ç¡¬ç¼–ç ä»£ç†é…ç½®

**ä½ç½®ï¼š** `test_env.py` ç¬¬ 23-24 è¡Œ

```python
os.environ["http_proxy"] = "http://127.0.0.1:10809"
os.environ["https_proxy"] = "http://127.0.0.1:10809"
```

**é£é™©ï¼š**
- æš´éœ²æœ¬åœ°ä»£ç†é…ç½®
- å¦‚æœæäº¤åˆ° Gitï¼Œä¼šæ³„éœ²æœ¬åœ°ç½‘ç»œé…ç½®
- å¯èƒ½è¢«æ¶æ„åˆ©ç”¨

**ä¿®å¤å»ºè®®ï¼š**
```python
# åº”è¯¥æ”¹ä¸ºä»ç¯å¢ƒå˜é‡è¯»å–ï¼Œæˆ–ä½¿ç”¨ .env æ–‡ä»¶
http_proxy = os.getenv('HTTP_PROXY')
https_proxy = os.getenv('HTTPS_PROXY')
if http_proxy:
    os.environ["http_proxy"] = http_proxy
if https_proxy:
    os.environ["https_proxy"] = https_proxy
```

**ä¿®å¤ä¼˜å…ˆçº§ï¼š** ğŸ”´ é«˜

### ğŸŸ¡ ä¸­ç­‰é—®é¢˜

#### 2. WebUI ç¼ºå°‘è®¤è¯å’Œæˆæƒæœºåˆ¶

**ä½ç½®ï¼š** `web/` ç›®å½•ä¸‹çš„æ‰€æœ‰ Web æœåŠ¡

**é£é™©ï¼š**
- WebUI å®Œå…¨å¼€æ”¾ï¼Œä»»ä½•äººéƒ½å¯ä»¥è®¿é—®å’Œä¿®æ”¹é…ç½®
- å¯ä»¥ä¿®æ”¹ `.env` æ–‡ä»¶ä¸­çš„ `STOCK_LIST`
- å¯ä»¥è§¦å‘è‚¡ç¥¨åˆ†æä»»åŠ¡ï¼Œæ¶ˆè€— API é…é¢
- å¦‚æœéƒ¨ç½²åœ¨å…¬ç½‘ï¼Œå­˜åœ¨ä¸¥é‡å®‰å…¨é£é™©

**ä¿®å¤å»ºè®®ï¼š**
1. **æ·»åŠ åŸºæœ¬è®¤è¯ï¼ˆæ¨èï¼‰ï¼š**
   ```python
   # åœ¨ web/handlers.py ä¸­æ·»åŠ è®¤è¯è£…é¥°å™¨
   import base64
   from functools import wraps
   
   def require_auth(f):
       @wraps(f)
       def wrapper(*args, **kwargs):
           auth_header = request.headers.get('Authorization', '')
           if not auth_header.startswith('Basic '):
               return Response('Unauthorized', 401)
           # éªŒè¯ç”¨æˆ·åå¯†ç 
           return f(*args, **kwargs)
       return wrapper
   ```

2. **ä½¿ç”¨ç¯å¢ƒå˜é‡é…ç½®è®¤è¯ï¼š**
   ```bash
   # .env
   WEBUI_USERNAME=admin
   WEBUI_PASSWORD=your_secure_password
   ```

3. **æˆ–ä½¿ç”¨ Token è®¤è¯ï¼š**
   ```bash
   # .env
   WEBUI_TOKEN=your_random_token_here
   ```

4. **é™åˆ¶è®¿é—®æ¥æºï¼ˆå¦‚æœå¯èƒ½ï¼‰ï¼š**
   - ä½¿ç”¨åå‘ä»£ç†ï¼ˆNginxï¼‰æ·»åŠ  IP ç™½åå•
   - æˆ–ä½¿ç”¨é˜²ç«å¢™é™åˆ¶è®¿é—®

**ä¿®å¤ä¼˜å…ˆçº§ï¼š** ğŸŸ¡ ä¸­ï¼ˆå¦‚æœéƒ¨ç½²åœ¨å…¬ç½‘åˆ™ä¸º ğŸ”´ é«˜ï¼‰

#### 3. .env æ–‡ä»¶å†™å…¥ç¼ºå°‘éªŒè¯

**ä½ç½®ï¼š** `web/services.py` çš„ `ConfigService.set_stock_list()` æ–¹æ³•

**é£é™©ï¼š**
- è™½ç„¶åªä¿®æ”¹ `STOCK_LIST`ï¼Œä½†å†™å…¥æ“ä½œæ²¡æœ‰å……åˆ†éªŒè¯
- å¦‚æœæ­£åˆ™è¡¨è¾¾å¼è¢«ç»•è¿‡ï¼Œå¯èƒ½ä¿®æ”¹å…¶ä»–é…ç½®
- æ²¡æœ‰è·¯å¾„éªŒè¯ï¼Œç†è®ºä¸Šå¯èƒ½å­˜åœ¨è·¯å¾„éå†é£é™©

**ä¿®å¤å»ºè®®ï¼š**
```python
def set_stock_list(self, stock_list: str) -> str:
    # éªŒè¯è‚¡ç¥¨ä»£ç æ ¼å¼
    normalized = self._normalize_stock_list(stock_list)
    
    # éªŒè¯æ¯ä¸ªè‚¡ç¥¨ä»£ç æ ¼å¼
    for code in normalized.split(','):
        if not self._is_valid_stock_code(code.strip()):
            raise ValueError(f"æ— æ•ˆçš„è‚¡ç¥¨ä»£ç : {code}")
    
    # éªŒè¯æ–‡ä»¶è·¯å¾„ï¼ˆé˜²æ­¢è·¯å¾„éå†ï¼‰
    if not os.path.abspath(self.env_path).startswith(os.path.abspath('.')):
        raise ValueError("éæ³•çš„æ–‡ä»¶è·¯å¾„")
    
    # ç„¶åæ‰å†™å…¥
    ...
```

**ä¿®å¤ä¼˜å…ˆçº§ï¼š** ğŸŸ¡ ä¸­

#### 4. æ—¥å¿—ä¸­å¯èƒ½æ³„éœ²éƒ¨åˆ†æ•æ„Ÿä¿¡æ¯

**ä½ç½®ï¼š** å¤šä¸ªæ–‡ä»¶

è™½ç„¶åªæ˜¾ç¤ºå‰8ä½ï¼Œä½†åœ¨æŸäº›æƒ…å†µä¸‹å¯èƒ½ä»ç„¶æœ‰é£é™©ï¼š

- `test_env.py:69, 73` - æ˜¾ç¤º Token/Key å‰8ä½
- `src/search_service.py:120` - æ˜¾ç¤º API Key å‰8ä½
- `.github/scripts/ai_review.py:87, 121` - æ˜¾ç¤º API Key å‰8ä½

**é£é™©ï¼š**
- è™½ç„¶åªæ˜¾ç¤ºå‰8ä½ï¼Œä½†åœ¨æŸäº›åœºæ™¯ä¸‹å¯èƒ½è¢«åˆ©ç”¨
- å¦‚æœå¤šä¸ª Key å‰8ä½ç›¸åŒï¼Œå¯èƒ½è¢«å…³è”

**ä¿®å¤å»ºè®®ï¼š**
- è€ƒè™‘ä½¿ç”¨å“ˆå¸Œå€¼æ›¿ä»£ç›´æ¥æ˜¾ç¤º
- æˆ–å®Œå…¨ç§»é™¤è°ƒè¯•è¾“å‡ºä¸­çš„ Key ä¿¡æ¯
- ä½¿ç”¨ç¯å¢ƒå˜é‡æ§åˆ¶æ˜¯å¦æ˜¾ç¤ºè°ƒè¯•ä¿¡æ¯

**ä¿®å¤ä¼˜å…ˆçº§ï¼š** ğŸŸ¡ ä¸­

#### 3. .env.example ä¸­çš„ç¤ºä¾‹å€¼

**ä½ç½®ï¼š** `.env.example`

è™½ç„¶åªæ˜¯ç¤ºä¾‹ï¼Œä½†åŒ…å«äº†ä¸€äº›å¯èƒ½è¢«è¯¯è§£ä¸ºçœŸå®é…ç½®çš„å€¼ï¼š

```bash
DINGTALK_APP_KEY=xxxx
DINGTALK_APP_SECRET=xxxx
FEISHU_APP_ID=xxxx
FEISHU_APP_SECRET=xxxx
```

**é£é™©ï¼š**
- ç”¨æˆ·å¯èƒ½è¯¯ä»¥ä¸ºè¿™äº›æ˜¯æœ‰æ•ˆçš„å ä½ç¬¦
- å¯èƒ½è¢«ç”¨äºæµ‹è¯•ï¼Œå¯¼è‡´é…ç½®é”™è¯¯

**ä¿®å¤å»ºè®®ï¼š**
- ä½¿ç”¨æ›´æ˜ç¡®çš„å ä½ç¬¦ï¼Œå¦‚ `your_dingtalk_app_key_here`
- æ·»åŠ æ³¨é‡Šè¯´æ˜è¿™æ˜¯ç¤ºä¾‹å€¼

**ä¿®å¤ä¼˜å…ˆçº§ï¼š** ğŸŸ¡ ä½

### ğŸŸ¢ ä½é£é™©é—®é¢˜

#### 5. Web æœåŠ¡ç¼ºå°‘å®‰å…¨å“åº”å¤´

**ä½ç½®ï¼š** `web/server.py`, `web/handlers.py`

**é£é™©ï¼š**
- æ²¡æœ‰è®¾ç½®å®‰å…¨å“åº”å¤´ï¼ˆCORSã€X-Frame-Options ç­‰ï¼‰
- å¯èƒ½è¢«ç”¨äº XSS æ”»å‡»æˆ–ç‚¹å‡»åŠ«æŒ

**ä¿®å¤å»ºè®®ï¼š**
```python
# åœ¨ Response ç±»ä¸­æ·»åŠ å®‰å…¨å¤´
def send(self, handler: 'BaseHTTPRequestHandler') -> None:
    handler.send_response(self.status)
    handler.send_header("Content-Type", self.content_type)
    handler.send_header("Content-Length", str(len(self.body)))
    # æ·»åŠ å®‰å…¨å“åº”å¤´
    handler.send_header("X-Content-Type-Options", "nosniff")
    handler.send_header("X-Frame-Options", "DENY")
    handler.send_header("X-XSS-Protection", "1; mode=block")
    # å¦‚æœä¸éœ€è¦è·¨åŸŸï¼Œå¯ä»¥è®¾ç½®
    # handler.send_header("Access-Control-Allow-Origin", "null")
    handler.end_headers()
    handler.wfile.write(self.body)
```

**ä¿®å¤ä¼˜å…ˆçº§ï¼š** ğŸŸ¢ ä½

#### 6. Webhook URL å¯èƒ½åŒ…å«æ•æ„Ÿä¿¡æ¯

**ä½ç½®ï¼š** é…ç½®æ–‡ä»¶ã€æ—¥å¿—

Webhook URL é€šå¸¸åŒ…å« Tokenï¼Œè™½ç„¶ä¸ä¼šç›´æ¥æš´éœ²ï¼Œä½†éœ€è¦æ³¨æ„ï¼š

- å¦‚æœ Webhook URL è¢«è®°å½•åˆ°æ—¥å¿—ï¼Œå¯èƒ½æ³„éœ²
- å¦‚æœ Webhook URL è¢«æ‰“å°åˆ°æ§åˆ¶å°ï¼Œå¯èƒ½è¢«æˆªå±æ³„éœ²

**ä¿®å¤å»ºè®®ï¼š**
- ç¡®ä¿ Webhook URL ä¸ä¼šå®Œæ•´è®°å½•åˆ°æ—¥å¿—
- åœ¨æ˜¾ç¤ºæ—¶è¿›è¡Œè„±æ•å¤„ç†

**ä¿®å¤ä¼˜å…ˆçº§ï¼š** ğŸŸ¢ ä½

## ğŸ“‹ å®‰å…¨æ£€æŸ¥æ¸…å•

### ä»£ç æ£€æŸ¥
- [x] æ²¡æœ‰ç¡¬ç¼–ç çš„ API Key
- [x] æ²¡æœ‰ç¡¬ç¼–ç çš„å¯†ç 
- [x] æ²¡æœ‰ç¡¬ç¼–ç çš„ Token
- [x] `.env` æ–‡ä»¶å·²æ·»åŠ åˆ° `.gitignore`
- [x] `.env.example` åªåŒ…å«å ä½ç¬¦
- [x] âœ… `test_env.py` ä¸­çš„ç¡¬ç¼–ç ä»£ç†å·²ä¿®å¤

### Web æœåŠ¡æ£€æŸ¥
- [ ] âš ï¸ WebUI ç¼ºå°‘è®¤è¯æœºåˆ¶ï¼ˆå¦‚æœéƒ¨ç½²åœ¨å…¬ç½‘ï¼Œéœ€è¦ä¿®å¤ï¼‰
- [ ] âš ï¸ `.env` æ–‡ä»¶å†™å…¥ç¼ºå°‘å……åˆ†éªŒè¯
- [ ] âš ï¸ ç¼ºå°‘å®‰å…¨å“åº”å¤´ï¼ˆCORSã€X-Frame-Options ç­‰ï¼‰
- [x] è¾“å…¥éªŒè¯ï¼ˆè‚¡ç¥¨ä»£ç æ ¼å¼éªŒè¯ï¼‰âœ…
- [x] ä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢ï¼ˆSQLAlchemy ORMï¼‰âœ…

### æ—¥å¿—æ£€æŸ¥
- [x] æ—¥å¿—ä¸­åªæ˜¾ç¤º API Key å‰8ä½
- [x] æ•æ„Ÿä¿¡æ¯ä¸ä¼šå®Œæ•´è®°å½•
- [x] ä½¿ç”¨å ä½ç¬¦æ˜¾ç¤ºé…ç½®çŠ¶æ€

### GitHub Actions æ£€æŸ¥
- [x] ä½¿ç”¨ GitHub Secrets å­˜å‚¨æ•æ„Ÿä¿¡æ¯
- [x] å·¥ä½œæµä¸­æ­£ç¡®å¼•ç”¨ Secrets
- [x] æ—¥å¿—ä¸­ä¸ä¼šæš´éœ²å®Œæ•´å¯†é’¥

### Docker/Podman æ£€æŸ¥
- [x] ç¯å¢ƒå˜é‡é€šè¿‡ `.env` æ–‡ä»¶åŠ è½½
- [x] å®¹å™¨ä¸­ä¸ä¼šç¡¬ç¼–ç æ•æ„Ÿä¿¡æ¯
- [x] å·æŒ‚è½½ä¸ä¼šæš´éœ²æ•æ„Ÿæ–‡ä»¶

## ğŸ›¡ï¸ å®‰å…¨æœ€ä½³å®è·µå»ºè®®

### 1. ç«‹å³ä¿®å¤çš„é—®é¢˜

#### ä¿®å¤ test_env.py ä¸­çš„ç¡¬ç¼–ç ä»£ç†

```python
# ä¿®æ”¹å‰ï¼ˆä¸å®‰å…¨ï¼‰
os.environ["http_proxy"] = "http://127.0.0.1:10809"
os.environ["https_proxy"] = "http://127.0.0.1:10809"

# ä¿®æ”¹åï¼ˆå®‰å…¨ï¼‰
# ä»ç¯å¢ƒå˜é‡æˆ– .env æ–‡ä»¶è¯»å–ï¼Œä¸è¦ç¡¬ç¼–ç 
http_proxy = os.getenv('HTTP_PROXY')
https_proxy = os.getenv('HTTPS_PROXY')
if http_proxy:
    os.environ["http_proxy"] = http_proxy
if https_proxy:
    os.environ["https_proxy"] = https_proxy
```

### 2. å¢å¼ºæ—¥å¿—å®‰å…¨

è€ƒè™‘ä½¿ç”¨å“ˆå¸Œå€¼æ›¿ä»£ç›´æ¥æ˜¾ç¤ºï¼š

```python
import hashlib

def mask_api_key(key: str) -> str:
    """ç”Ÿæˆ API Key çš„å“ˆå¸Œæ ‡è¯†"""
    if not key:
        return "æœªé…ç½®"
    hash_obj = hashlib.sha256(key.encode())
    return f"key_{hash_obj.hexdigest()[:8]}"
```

### 3. ç¯å¢ƒå˜é‡éªŒè¯

æ·»åŠ ç¯å¢ƒå˜é‡éªŒè¯ï¼Œç¡®ä¿æ•æ„Ÿé…ç½®ä¸ä¼šæ„å¤–æ³„éœ²ï¼š

```python
def validate_env_security():
    """éªŒè¯ç¯å¢ƒå˜é‡å®‰å…¨æ€§"""
    sensitive_vars = [
        'GEMINI_API_KEY',
        'OPENAI_API_KEY',
        'EMAIL_PASSWORD',
        'TELEGRAM_BOT_TOKEN',
    ]
    
    for var in sensitive_vars:
        value = os.getenv(var)
        if value and len(value) < 10:
            logger.warning(f"{var} é•¿åº¦å¼‚å¸¸ï¼Œå¯èƒ½é…ç½®é”™è¯¯")
```

### 4. ä½¿ç”¨å¯†é’¥ç®¡ç†æœåŠ¡

å¯¹äºç”Ÿäº§ç¯å¢ƒï¼Œå»ºè®®ä½¿ç”¨å¯†é’¥ç®¡ç†æœåŠ¡ï¼š

- **æœ¬åœ°å¼€å‘ï¼š** ä½¿ç”¨ `.env` æ–‡ä»¶ï¼ˆå·²å®æ–½ï¼‰
- **Docker/Podmanï¼š** ä½¿ç”¨ç¯å¢ƒå˜é‡æˆ–å¯†é’¥å·
- **GitHub Actionsï¼š** ä½¿ç”¨ GitHub Secretsï¼ˆå·²å®æ–½ï¼‰
- **ç”Ÿäº§ç¯å¢ƒï¼š** è€ƒè™‘ä½¿ç”¨ HashiCorp Vaultã€AWS Secrets Manager ç­‰

### 5. å®šæœŸå®‰å…¨å®¡è®¡

å»ºè®®å®šæœŸæ‰§è¡Œä»¥ä¸‹æ£€æŸ¥ï¼š

1. **æ£€æŸ¥ Git å†å²ï¼š** ç¡®ä¿æ²¡æœ‰æ•æ„Ÿä¿¡æ¯è¢«æäº¤
   ```bash
   git log --all --full-history --source -- "*env*" "*key*" "*token*"
   ```

2. **æ£€æŸ¥ä»£ç åº“ï¼š** æœç´¢å¯èƒ½çš„ç¡¬ç¼–ç å¯†é’¥
   ```bash
   grep -r "sk-[a-zA-Z0-9]" --exclude-dir=.git
   grep -r "AIza[a-zA-Z0-9]" --exclude-dir=.git
   ```

3. **æ£€æŸ¥ä¾èµ–ï¼š** ç¡®ä¿ä¾èµ–åŒ…æ²¡æœ‰å·²çŸ¥å®‰å…¨æ¼æ´
   ```bash
   pip install safety
   safety check
   ```

## ğŸ” å¦‚ä½•æ£€æŸ¥æ˜¯å¦æ³„éœ²

### 1. æ£€æŸ¥ Git å†å²

```bash
# æ£€æŸ¥æ˜¯å¦æœ‰æ•æ„Ÿæ–‡ä»¶è¢«æäº¤
git log --all --full-history --source -- ".env"

# æ£€æŸ¥æ˜¯å¦æœ‰ API Key è¢«æäº¤
git log -p --all -S "GEMINI_API_KEY" --source
git log -p --all -S "OPENAI_API_KEY" --source
```

### 2. æ£€æŸ¥å½“å‰ä»£ç 

```bash
# æœç´¢å¯èƒ½çš„ç¡¬ç¼–ç å¯†é’¥
grep -r "sk-[a-zA-Z0-9]\{32,\}" --exclude-dir=.git
grep -r "AIza[a-zA-Z0-9]\{32,\}" --exclude-dir=.git
grep -r "ghp_[a-zA-Z0-9]\{32,\}" --exclude-dir=.git
```

### 3. æ£€æŸ¥ GitHub Secrets

ç¡®ä¿æ‰€æœ‰æ•æ„Ÿä¿¡æ¯éƒ½å­˜å‚¨åœ¨ GitHub Secrets ä¸­ï¼Œè€Œä¸æ˜¯ä»£ç ä¸­ã€‚

## ğŸ“ æ€»ç»“

### æ€»ä½“å®‰å…¨è¯„çº§ï¼šğŸŸ¡ ä¸­ç­‰ï¼ˆæœ¬åœ°ä½¿ç”¨ï¼‰ / ğŸ”´ é«˜é£é™©ï¼ˆå…¬ç½‘éƒ¨ç½²ï¼‰

**æœ¬åœ°ä½¿ç”¨åœºæ™¯ï¼š** å®‰å…¨æªæ–½åŸºæœ¬åˆ°ä½
- âœ… æ²¡æœ‰ç¡¬ç¼–ç çš„çœŸå® API Key
- âœ… æ­£ç¡®ä½¿ç”¨ç¯å¢ƒå˜é‡å’Œ Secrets
- âœ… æ—¥å¿—å®‰å…¨å¤„ç†å¾—å½“
- âœ… `.gitignore` é…ç½®æ­£ç¡®
- âœ… è¾“å…¥éªŒè¯åŸºæœ¬å®Œå–„
- âœ… SQL æ³¨å…¥é˜²æŠ¤åˆ°ä½

**å…¬ç½‘éƒ¨ç½²åœºæ™¯ï¼š** å­˜åœ¨ä¸¥é‡å®‰å…¨é£é™©
- âŒ WebUI å®Œå…¨å¼€æ”¾ï¼Œæ— è®¤è¯
- âŒ ä»»ä½•äººéƒ½å¯ä»¥ä¿®æ”¹é…ç½®å’Œè§¦å‘åˆ†æ
- âŒ ç¼ºå°‘å®‰å…¨å“åº”å¤´

### éœ€è¦ç«‹å³ä¿®å¤çš„é—®é¢˜ï¼š

1. **ğŸ”´ é«˜ä¼˜å…ˆçº§ï¼ˆå·²ä¿®å¤ï¼‰ï¼š** `test_env.py` ä¸­çš„ç¡¬ç¼–ç ä»£ç†é…ç½® âœ…
2. **ğŸ”´ é«˜ä¼˜å…ˆçº§ï¼ˆå…¬ç½‘éƒ¨ç½²ï¼‰ï¼š** WebUI ç¼ºå°‘è®¤è¯æœºåˆ¶
3. **ğŸŸ¡ ä¸­ä¼˜å…ˆçº§ï¼š** `.env` æ–‡ä»¶å†™å…¥ç¼ºå°‘å……åˆ†éªŒè¯
4. **ğŸŸ¡ ä¸­ä¼˜å…ˆçº§ï¼š** è€ƒè™‘å¢å¼ºæ—¥å¿—è„±æ•
5. **ğŸŸ¢ ä½ä¼˜å…ˆçº§ï¼š** æ·»åŠ å®‰å…¨å“åº”å¤´
6. **ğŸŸ¢ ä½ä¼˜å…ˆçº§ï¼š** æ”¹è¿› `.env.example` çš„å ä½ç¬¦

### å»ºè®®ï¼š

1. âœ… **å·²å®Œæˆï¼š** ä¿®å¤ `test_env.py` ä¸­çš„ç¡¬ç¼–ç ä»£ç†
2. **å¦‚æœéƒ¨ç½²åœ¨å…¬ç½‘ï¼š** å¿…é¡»æ·»åŠ  WebUI è®¤è¯æœºåˆ¶
3. **å¢å¼º `.env` æ–‡ä»¶å†™å…¥éªŒè¯ï¼š** æ·»åŠ æ›´ä¸¥æ ¼çš„è¾“å…¥éªŒè¯
4. **å®šæœŸæ‰§è¡Œå®‰å…¨å®¡è®¡ï¼š** æ£€æŸ¥ä¾èµ–åŒ…æ¼æ´
5. **è€ƒè™‘ä½¿ç”¨å¯†é’¥ç®¡ç†æœåŠ¡ï¼š** ç”Ÿäº§ç¯å¢ƒæ¨è
6. **æ·»åŠ å®‰å…¨æµ‹è¯•åˆ° CI/CD æµç¨‹ï¼š** è‡ªåŠ¨åŒ–å®‰å…¨æ£€æŸ¥
7. **ä½¿ç”¨åå‘ä»£ç†ï¼š** Nginx ç­‰å¯ä»¥æä¾›é¢å¤–çš„å®‰å…¨å±‚

---

**æœ€åæ›´æ–°ï¼š** 2026-01-26

**å®¡æ ¸äººï¼š** AI Security Analysis
